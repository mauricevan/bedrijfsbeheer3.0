# Admin Instellingen

ğŸ†• **UITGEBREID MET ANALYTICS & DATABASE DIAGNOSTICS**

## Overzicht

Admin configuratie module voor systeem instellingen, modules beheer, analytics en database diagnostics.

## Functionaliteiten

### Module Beheer

#### In-/Uitschakelen van Modules

- âœ… **Modules in-/uitschakelen** per module
- âœ… **Beschrijving per module** - Zie wat elke module doet
- âœ… **Visuele indicators** (actief/inactief):
  - Groen: Actief
  - Grijs: Inactief
- âœ… **Per module toggle** functionaliteit - Snel aan/uit zetten
- âœ… **Waarschuwing over impact** - Bij uitschakelen wordt gewaarschuwd
- âœ… **Alleen toegankelijk voor admins** - Security bescherming

#### Beschikbare Modules

Volledige controle over welke modules zichtbaar zijn:

- Dashboard
- Voorraadbeheer
- POS (Kassasysteem)
- Werkorders
- Accounting (Offertes & Facturen)
- Boekhouding & Dossier
- CRM
- HRM
- Planning
- Rapportages
- Webshop
- Admin Instellingen (kan niet uitgeschakeld worden)

---

## Systeem Analytics & Optimalisatie Tab

ğŸ†• **NIEUW - LEAN SIX SIGMA ANALYSE DASHBOARD**

### Overzicht

Uitgebreid analytics dashboard gebaseerd op Lean Six Sigma principes voor proces optimalisatie en efficiency analyse.

### Key Metrics

Dashboard met belangrijkste metrics:

- âœ… **Totale events** - Alle geregistreerde gebruikersacties
- âœ… **Actieve gebruikers** - Aantal unieke gebruikers
- âœ… **Gebruikstijd** - Totale tijd besteed in systeem
- âœ… **Efficiency** - Berekende efficiency score (%)

### Module Gebruik Statistieken

#### Grafieken & Tabellen

- âœ… **Module gebruik grafieken** - Visuele weergave van gebruik per module
- âœ… **Module gebruik tabel** met:
  - Module naam
  - Aantal keer gebruikt
  - Totale tijd besteed
  - Aantal actieve gebruikers
  - Gemiddelde sessie tijd
  - Laatste gebruik

#### Inzichten

- Meest gebruikte modules identificeren
- Ongebruikte modules opsporen
- Gebruikspatronen herkennen

### Proces EfficiÃ«ntie Metrics

Lean Six Sigma gebaseerde metrics:

- âœ… **Cyclus tijd** - Gemiddelde tijd per proces
- âœ… **Error rates** - Foutpercentages per module
- âœ… **Bottlenecks** - Identificatie van knelpunten
- âœ… **Throughput** - Aantal voltooide processen per tijdseenheid

### Gebruiker Efficiency Scores

#### Visualisaties

- âœ… **Per gebruiker efficiency** met visualisaties
- âœ… **Efficiency score berekening** - Gebaseerd op:
  - Aantal voltooide taken
  - Tijd per taak
  - Error rate
  - Module gebruik efficiÃ«ntie

#### User Performance

- âœ… **Gebruiker naam**
- âœ… **Efficiency score** (percentage)
- âœ… **Aantal events** - Totale activiteit
- âœ… **Totale tijd** - Tijd besteed in systeem
- âœ… **Events per uur** - Productiviteit metric
- âœ… **Laatste activiteit** - Wanneer laatste keer actief

### Automatische Optimalisatie Aanbevelingen

ğŸ†• **AI-gestuurde aanbevelingen** gebaseerd op gebruikspatronen:

#### Types Aanbevelingen

- âœ… **Ongebruikte modules** - Modules die niet of nauwelijks gebruikt worden
- âœ… **Bottleneck identificatie** - Processen die vertraging veroorzaken
- âœ… **Efficiency verbeteringen** - Voorstellen voor sneller werken
- âœ… **Training aanbevelingen** - Welke gebruikers training nodig hebben
- âœ… **Workflow optimalisaties** - Verbeteringen in proces flow

#### Aanbeveling Details

- Prioriteit (High/Medium/Low)
- Module/onderdeel
- Beschrijving van probleem
- Voorgestelde oplossing
- Verwachte impact

### Periode Filters

- âœ… **Flexibele periode selectie**:
  - **Dag** - Vandaag
  - **Week** - Afgelopen 7 dagen
  - **Maand** - Afgelopen 30 dagen
  - **Kwartaal** - Afgelopen 3 maanden
  - **Jaar** - Afgelopen 12 maanden
- âœ… **Real-time updates** - Data wordt direct herberekend

### Reset Functionaliteit

- âœ… **Reset analytics data** - Wis alle analytics data
- âœ… **Bevestiging vereist** - Voorkomt onbedoelde data loss
- âœ… **Behoud van kritische data** - Alleen analytics wordt gereset, geen operationele data

---

## Database Diagnostics Tab

ğŸ†• **NIEUW - BASELINE DIAGNOSTICS VOOR MANAGED DATABASES**

### Overzicht

Uitgebreide database diagnostics tool voor het identificeren en oplossen van database problemen.

### 20+ Voorgedefinieerde Database Issues

Volledig overzicht van mogelijke database problemen in categorieÃ«n:

#### Connection Issues

- âœ… **Connection timeout** - Database reageert niet binnen timeout
- âœ… **Connection refused** - Database accepteert geen connecties
- âœ… **Max connections reached** - Te veel gelijktijdige connecties
- âœ… **Connection pool exhausted** - Connection pool vol

#### Authentication & Authorization

- âœ… **Invalid credentials** - Verkeerde username/password
- âœ… **Expired credentials** - Credentials verlopen
- âœ… **Insufficient permissions** - Onvoldoende rechten voor operatie
- âœ… **SSL/TLS required** - Beveiligde connectie verplicht

#### Performance Issues

- âœ… **Slow queries** - Queries langer dan threshold
- âœ… **High CPU usage** - CPU gebruik te hoog
- âœ… **Memory pressure** - Te weinig geheugen beschikbaar
- âœ… **Disk I/O bottleneck** - Disk te langzaam

#### Schema Issues

- âœ… **Table not found** - Tabel bestaat niet
- âœ… **Column not found** - Kolom bestaat niet in tabel
- âœ… **Schema mismatch** - Schema komt niet overeen met verwachting
- âœ… **Migration pending** - Database migratie nog niet uitgevoerd

#### Configuration Issues

- âœ… **Incorrect connection string** - Connection string fout
- âœ… **Wrong database selected** - Verkeerde database actief
- âœ… **Environment variables missing** - Vereiste env vars niet gezet

#### Platform-Specific Issues

Platform-specifieke problemen voor populaire managed databases.

### Severity Distributie

- âœ… **High/Medium/Low severity** met statistieken:
  - Aantal issues per severity
  - Percentage per severity
  - Visuele distributie grafiek

### Categorie Filter Functionaliteit

- âœ… **Filter op categorie**:
  - Alle issues
  - Connection issues
  - Auth issues
  - Performance issues
  - Schema issues
  - Config issues
  - Platform-specific
- âœ… **Real-time filtering** - Direct resultaten

### Gedetailleerde Issue Cards

Elke issue heeft uitgebreide informatie:

#### Issue Informatie

- âœ… **Naam** - Duidelijke issue naam
- âœ… **Categorie** - Type probleem
- âœ… **Severity** - Ernst (High/Medium/Low)
- âœ… **Beschrijving** - Wat is het probleem
- âœ… **Symptomen** - Wat zie je als dit probleem optreedt

#### Diagnostische Stappen

- âœ… **Stap-voor-stap diagnostic** - Hoe test je of dit het probleem is
- âœ… **Voorbeeld commando's** - Concrete test commando's
- âœ… **Verwachte output** - Wat zou je moeten zien

#### Voorgestelde Oplossingen

- âœ… **Solution stappen** - Hoe los je het op
- âœ… **Code voorbeelden** - Concrete fix implementaties
- âœ… **Best practices** - Hoe voorkom je dit in de toekomst

#### Platform-Specifieke Informatie

- âœ… **Supabase** - Specifieke oplossingen voor Supabase
- âœ… **NeonDB** - Specifieke oplossingen voor NeonDB
- âœ… **PlanetScale** - Specifieke oplossingen voor PlanetScale
- âœ… **Andere platforms** - Algemene oplossingen

#### Test Action Buttons

- âœ… **Test knop** per issue - Klaar voor backend integratie
- âœ… **Run diagnostic** - Voer automatische test uit
- âœ… **Apply fix** - Pas automatische fix toe (waar mogelijk)

### Issues per Categorie Overzicht

- âœ… **CategorieÃ«n tabel** met:
  - Categorie naam
  - Aantal issues in categorie
  - Gemiddelde severity
  - Status (aantal resolved/total)

### Performance Metrics

Voor performance gerelateerde issues:

- âœ… **Latency data** - Gemiddelde/min/max response tijd
- âœ… **Occurrences** - Hoe vaak komt issue voor
- âœ… **Trend analyse** - Is het probleem toenemend/afnemend

### Responsive Design

- âœ… **Mobile-optimized layout** - Volledig werkend op mobile
- âœ… **Tablet support** - Aangepaste layout voor tablet
- âœ… **Desktop view** - Volledig overzicht op grote schermen

---

## Gebruik

### Modules Beheren

1. **Open Admin Instellingen**
2. **Ga naar Module Beheer tab**
3. **Toggle modules** aan of uit:
   - Groen = Actief
   - Grijs = Inactief
4. **Let op waarschuwingen** - Sommige modules zijn afhankelijk van elkaar

### Analytics Bekijken

1. **Open Systeem Analytics tab**
2. **Selecteer periode** (dag/week/maand/kwartaal/jaar)
3. **Bekijk key metrics** bovenaan
4. **Analyseer module gebruik**:
   - Welke modules worden het meest gebruikt?
   - Welke modules worden niet gebruikt?
5. **Check efficiency scores** per gebruiker
6. **Lees optimalisatie aanbevelingen**
7. **Neem actie** op basis van inzichten

### Database Diagnostics Gebruiken

#### Probleem Identificeren

1. **Open Database Diagnostics tab**
2. **Bekijk severity distributie** - Hoeveel high/medium/low issues
3. **Filter op categorie** indien nodig:
   - Connection problemen? â†’ Filter "Connection"
   - Trage queries? â†’ Filter "Performance"
   - Auth errors? â†’ Filter "Auth"
4. **Klik op issue card** voor details

#### Probleem Diagnosticeren

1. **Lees issue beschrijving** en symptomen
2. **Volg diagnostische stappen**:
   - Voer test commando's uit
   - Check verwachte vs. actuele output
3. **Gebruik test knop** voor automatische diagnostic (indien beschikbaar)
4. **Identificeer root cause**

#### Probleem Oplossen

1. **Lees voorgestelde oplossingen**
2. **Kies relevante oplossing**:
   - Platform-specifiek (Supabase/NeonDB/PlanetScale)
   - Algemeen (voor andere databases)
3. **Volg solution stappen**
4. **Pas code aan** met voorbeelden
5. **Test de fix**
6. **Monitor** of probleem opgelost is

---

## Best Practices

### Module Beheer

1. **Minimaliseer actieve modules** - Schakel ongebruikte modules uit voor performance
2. **Test voor productie** - Test module wijzigingen eerst in development
3. **Documenteer** - Noteer waarom modules uit staan

### Analytics

1. **Regelmatig monitoren** - Check wekelijks analytics voor trends
2. **Follow-up op aanbevelingen** - Neem optimalisatie voorstellen serieus
3. **Benchmark** - Vergelijk periodes met elkaar
4. **Training** - Gebruik efficiency scores voor gerichte training

### Database Diagnostics

1. **Preventief gebruik** - Check regelmatig, niet alleen bij problemen
2. **Platform documentatie** - Lees specifieke platform docs voor diepere info
3. **Monitor trends** - Let op terugkerende issues
4. **Backup eerst** - Maak altijd backup voor database wijzigingen

---

## ğŸ› Troubleshooting

### Probleem: Settings niet opgeslagen

**Symptomen:**
- Save knop reageert niet
- Wijzigingen worden niet bewaard
- Settings reset na pagina refresh
- Error "Save failed"

**Oorzaak:**
- Geen admin rechten
- Verplichte veld niet ingevuld
- Database connectie fout
- Browser cache probleem

**Oplossing:**
1. Check huidige rol - Admin vereist
2. Zorg alle verplichte velden ingevuld
3. Ververs pagina (F5)
4. Clear browser cache (Ctrl+Shift+Delete)
5. Controleer database connectie

---

### Probleem: Import/export faalt

**Symptomen:**
- Import knop doet niets
- Export werkt niet
- Bestand is corrupt
- Foutmelding "Import/Export failed"

**Oorzaak:**
- Import/Export feature nog niet geÃ¯mplementeerd
- Bestandsformaat incorrect
- Bestand is te groot
- Backend service offline

**Oplossing:**
1. Check of functie beschikbaar is in deze versie
2. Verifieer bestandsformaat (CSV/JSON)
3. Zorg bestand < 10MB
4. Controleer backend service
5. Try met kleiner bestand

---

### Probleem: Demo data reset werkt niet

**Symptomen:**
- Reset knop werkt niet
- Demo data wordt niet verwijderd
- Error "Reset failed"
- System hangt vast tijdens reset

**Oorzaak:**
- Geen admin rechten
- Database is te groot
- Backend timeout
- Process wordt geÃ¯nterupt

**Oplossing:**
1. Check admin rechten
2. Wacht langer voor reset (kan minuten duren)
3. Probeer opnieuw
4. Check database status
5. Contact support als stuck

---

### Veelvoorkomende Errors

#### Error: "Permission denied"
**Oorzaak:** Gebruiker is geen admin
**Oplossing:** Vraag admin deze acties uit te voeren

#### Error: "Database connection failed"
**Oorzaak:** Kan niet naar database connecten
**Oplossing:** Check database connectie en credentials

#### Error: "Module toggle failed"
**Oorzaak:** Module kan niet uit/aan gezet worden
**Oplossing:** Zorg module afhankelijkheden zijn ok, try opnieuw

---

### Module Beheer Issues

**Symptomen:** Module toggle werkt niet, modules zijn gegrijd
**Mogelijke oorzaken:**
- Module dependencies
- Admin toggle is stuck
- Cache probleem
**Oplossingen:**
1. Zorg geen dependencies zijn
2. Ververs pagina
3. Clear browser cache
4. Try toggle opnieuw

---

### Analytics Dashboard Issues

**Symptomen:** Analytics data is leeg, grafieken laden niet
**Mogelijke oorzaken:**
- Geen events geregistreerd
- Analytics module nog niet actief
- Data sync vertraging
**Oplossingen:**
1. Zorg gebruikers system gebruiken (events worden geregistreerd)
2. Wacht 24 uur voor sufficient data
3. Check analytics is enabled
4. Refresh pagina

---

### Database Diagnostics Issues

**Symptomen:** Diagnostics tonen geen resultaten, testen falen
**Mogelijke oorzaken:**
- Database is ok (geen issues)
- Diagnostics nog niet gekoppeld aan echte database
- Connection timeout
**Oplossingen:**
1. Controleer echte database status
2. Run handmatige tests
3. Check network connectivity
4. Review logs voor real issues

---

### Tips voor Debugging

1. **Open Browser Console** (F12) om errors te zien
2. **Check Network Tab** voor API errors
3. **Refresh de pagina** (F5) bij rare gedrag
4. **Check database status** voor connection issues
5. **Test in Incognito Mode** om extensies uit te sluiten

## Gerelateerde Modules

Alle modules - Admin Instellingen beÃ¯nvloedt alle andere modules

---

## Versie Geschiedenis

- **V5.5** - Database Diagnostics toegevoegd met 20+ voorgedefinieerde issues
- **V5.4** - Systeem Analytics & Optimalisatie met Lean Six Sigma dashboard
- **V4.0** - Module beheer met toggle functionaliteit
